

```{r}
moral_machine <- read.csv("moral_machine_small_sample_h2o.csv")


moral_machine
```


```{r}

moral_machine$Saved <- as.factor(moral_machine$Saved)

moral_machine_small <- moral_machine[sample(0.1*nrow(moral_machine)),]

train_index = sample(0.7 * nrow(moral_machine_small))
train <- moral_machine_small[train_index, ]
test <- moral_machine_small[-train_index,]

```


```{r}
rm(moral_machine)
```

```{r}
library(randomForest)



tree <- randomForest(Saved ~ ., data=train, importance=TRUE,
                        proximity=TRUE)
```

```{r}
plot(tree)
tree$err.rate
tree


predictions_test <- predict(tree, test)

sum(predictions_test == test$Saved) / nrow(test)

```


# Kappa statistics